{"version":3,"sources":["./src/app/courses/my-courses/my-courses.page.ts","./src/app/courses/my-courses/my-courses.page.html","./src/app/courses/my-courses/my-courses.page.scss","./src/app/courses/my-courses/my-courses-routing.module.ts","./src/app/courses/my-courses/my-courses.module.ts"],"names":[],"mappings":"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","file":"my-courses-my-courses-module.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { IonInfiniteScrollContent, NavController, Platform } from '@ionic/angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { imagesBaseUrl } from 'src/app/api.constants';\r\nimport { AudioElement } from 'src/app/shared/models/audioObject';\r\nimport { Course } from 'src/app/shared/models/course';\r\nimport { MyCourse } from 'src/app/shared/models/myCourse';\r\nimport { CourseService } from 'src/app/shared/services/courses.service';\r\nimport { TestService } from 'src/app/shared/services/test.service';\r\nimport { File } from '@ionic-native/file';\r\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { platform } from 'process';\r\nimport { Howl } from 'howler';\r\nimport { AppService } from 'src/app/shared/services/app.service';\r\n\r\n@Component({\r\n  selector: 'app-my-courses',\r\n  templateUrl: './my-courses.page.html',\r\n  styleUrls: ['./my-courses.page.scss'],\r\n})\r\nexport class MyCoursesPage implements OnInit, OnDestroy {\r\n  offset: number = 0;\r\n  totalLength: number;\r\n  sub: Subscription[] = [];\r\n  public myCourses: Array<MyCourse> = [];\r\n  isLoading = false;\r\n  pdfFile: any;\r\n  player: Howl = null;\r\n  isPlaying: boolean = false;\r\n  getLang = localStorage.getItem('languageId');\r\n  courseAudio:string;\r\n  constructor(\r\n    private route: Router,\r\n    private courseService: CourseService,\r\n    private testService: TestService,\r\n    private fileOpener: FileOpener,\r\n    private platform: Platform,\r\n    private loadingController: LoadingController,\r\n    private appService:AppService\r\n\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.appService.getVidoes('Courses', this.getLang).subscribe((response) => {\r\n      this.courseAudio = response['result']?.genericAttributeMediaTranslations[0]?.mediaPath;\r\n    })\r\n    this.getUserCourses();\r\n  }\r\n\r\n\r\n  getUserCourses() {\r\n    this.isLoading = true;\r\n    this.sub.push(\r\n      this.courseService\r\n        .getUserCourses('', this.offset)\r\n        .pipe(\r\n          map((response) => {\r\n            Object.entries(response);\r\n            this.isLoading = false;\r\n            this.totalLength = response['length'];\r\n            return response['result'];\r\n          })\r\n        )\r\n        .subscribe((res) => {\r\n\r\n          if (this.myCourses.length == 0) {\r\n            res.forEach((element:MyCourse) => {\r\n\r\n              if (element.course.imagePath) {\r\n                element.course.imagePath = `${element.course.imagePath}`;\r\n              }\r\n              if (element.course.courseTranslations[0]?.introVoicePath) {\r\n                element.course.courseTranslations[0].introVoicePath = `${element.course.courseTranslations[0].introVoicePath}`;\r\n              }\r\n              element.course.audioElement = new AudioElement();\r\n              element.course.audioElement.status = false;\r\n            });\r\n            this.myCourses = res;\r\n          } else {\r\n            res.forEach((element) => {\r\n              if (element.course.imagePath) {\r\n                element.course.imagePath = `${element.course.imagePath}`;\r\n              }\r\n              if (element.course.courseTranslations[0]?.introVoicePath) {\r\n                element.course.courseTranslations[0].introVoicePath = `${element.course.courseTranslations[0].introVoicePath}`;\r\n              }\r\n              element.course.audioElement = new AudioElement();\r\n              element.course.audioElement.status = false;\r\n\r\n              this.myCourses.push(element);\r\n            });\r\n          }\r\n          this.offset++;\r\n        })\r\n    );\r\n  }\r\n\r\n  loadData(event) {\r\n    if(this.myCourses.length < this.totalLength){\r\n      setTimeout(() => {\r\n        this.getUserCourses();\r\n        event.target.complete();\r\n\r\n        // App logic to determine if all data is loaded\r\n        // and disable the infinite scroll\r\n        if (this.myCourses.length == 1000) {\r\n          event.target.disabled = true;\r\n        }\r\n      }, 500);\r\n    }else{\r\n      event.target.disabled = true;\r\n\r\n    }\r\n\r\n  }\r\n\r\n  playIntroHTML(course:Course){\r\n    // this.nativeAudio.preloadSimple(`intro${course.id}`, `${course.courseTranslations[0].introVoicePath}`).then(onSuccess, onError);\r\n    // this.nativeAudio.play(`intro${course.id}`).then(onSuccess, onError);\r\n    if(course.audioElement.status == false){\r\n      //stop all\r\n      this.myCourses.forEach((element:MyCourse,index) => {\r\n        if(element.course.audioElement.audio != null){\r\n          element.course.audioElement.audio.pause();\r\n          element.course.audioElement.status = false;\r\n          //TODO destroy\r\n        }else{\r\n          //TODO destroy\r\n        }\r\n\r\n    });\r\n    if(course.audioElement.audio && course.audioElement.audio.paused){\r\n      course.audioElement.audio.play();\r\n    }else{\r\n      var audio = new Audio(`${course.courseTranslations[0].introVoicePath}`);\r\n      course.audioElement.audio = audio;\r\n      course.audioElement.audio.load();\r\n      course.audioElement.audio.play();\r\n    }\r\n    course.audioElement.status = true;\r\n\r\n\r\n    }else{\r\n      //stop the the live one\r\n      if(course.audioElement.audio != null){\r\n        course.audioElement.audio.pause();\r\n        course.audioElement.status = false;\r\n        //TODO destroy\r\n      }else{\r\n        //TODO destroy\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  // ** go to choose course material\r\n  goToChooseCourseMaterial(courseId: number, userId) {\r\n    this.route.navigate(['courses/tabs/choose-course-material', { courseId, userId }]);\r\n  }\r\n\r\n\r\n  downloadCertificate(courseId) {\r\n    this.isLoading = true;\r\n    this.testService.getCertificate(courseId)\r\n    .subscribe((response: Blob) => {\r\n      this.isLoading = false;\r\n      if(this.platform.is('mobileweb')) {\r\n\r\n        this.pdfFile = new Blob([response], {type: 'application/pdf'});\r\n\r\n        var downloadURL = window.URL.createObjectURL(response);\r\n        var link = document.createElement('a');\r\n        link.href = downloadURL;\r\n        link.download = \"Certificate.pdf\";\r\n        link.click();\r\n      } else if(this.platform.is('android')) {\r\n        File.writeFile(\r\n          File.externalRootDirectory + \"/Download\",\r\n          courseId + \"Certificate.pdf\",\r\n          new Blob([response]),\r\n          {\r\n            replace: true,\r\n          }\r\n        );\r\n        this.fileOpener.open(File.externalRootDirectory + \"/Download/\" + courseId + \"Certificate.pdf\", 'application/pdf')\r\n        .then(() => console.log('File is opened'))\r\n        .catch(e => console.log('Error opening file', e));\r\n      } else {\r\n        this.pdfFile = new Blob([response], {type: 'application/pdf'});\r\n\r\n        var downloadURL = window.URL.createObjectURL(response);\r\n        var link = document.createElement('a');\r\n        link.href = downloadURL;\r\n        link.download = \"Certificate.pdf\";\r\n        link.click();\r\n\r\n      }\r\n\r\n\r\n\r\n      // this.pdfFile = new Blob([response], {type: 'application/pdf'});\r\n\r\n      // var downloadURL = window.URL.createObjectURL(response);\r\n      // var link = document.createElement('a');\r\n      // link.href = downloadURL;\r\n      // link.download = \"Certificate.pdf\";\r\n      // link.click();\r\n    });\r\n  }\r\n\r\n  // ** Create Refresh whrn scroll down\r\n  doRefresh(event) {\r\n    this.offset=0;\r\n    this.myCourses=[];\r\n    console.log('Begin async operation');\r\n    this.getUserCourses();\r\n    event.target.complete();\r\n    // setTimeout(() => {\r\n    //   console.log('Async operation has ended');\r\n    //   event.target.complete();\r\n    // }, 2000);\r\n  }\r\n\r\n  startAudio(voicePath: string) {\r\n    if (this.player && this.isPlaying == true) {\r\n      this.player.stop();\r\n      this.isPlaying = false;\r\n    }else{\r\n      this.player = new Howl({\r\n        html5: true,\r\n        src: voicePath,\r\n        onplay: () => {\r\n\r\n          this.isPlaying = true;\r\n        },\r\n        onend: () => {\r\n          this.isPlaying = false;\r\n        },\r\n      });\r\n      this.player.play();\r\n\r\n    }\r\n\r\n  }\r\n  ngOnDestroy() {\r\n\r\n    this.sub.forEach(e => {\r\n      e.unsubscribe();\r\n    })\r\n  }\r\n  ionViewDidLeave():void{\r\n    if (this.player) {\r\n      this.player.stop();\r\n    }\r\n    this.myCourses.forEach((element) => {\r\n      if (element.course.audioElement) {\r\n        if (element.course.audioElement.status == true) {\r\n          element.course.audioElement.audio.pause();\r\n          element.course.audioElement.status = false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","export default \"<ion-toolbar class=\\\"ios-toolbar\\\">\\r\\n  <ion-title>\\r\\n    My Courses\\r\\n  </ion-title>\\r\\n</ion-toolbar>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-spinner *ngIf='isLoading' color=\\\"primary\\\" name=\\\"crescent\\\"></ion-spinner>\\r\\n\\r\\n  <ion-grid class=\\\"img-course-intro\\\">\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <div class=\\\"img-intro\\\">\\r\\n          <ion-img loading=\\\"lazy\\\" src=\\\"../../../assets/images/shutterstock_360072566.jpg\\\"></ion-img>\\r\\n        </div>\\r\\n        <div class=\\\"icon-sound\\\" (click)=\\\"startAudio(courseAudio)\\\">\\r\\n          <div class=\\\"img-volume\\\">\\r\\n            <ion-img\\r\\n            class=\\\"animate__animated animate__jello animate__delay-2s animate__bounce animate__repeat-2\\\" src=\\\"../../../assets/icon/Vector.png\\\">\\r\\n          </ion-img>\\r\\n          </div>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"ion-text-center\\\">\\r\\n\\r\\n\\r\\n        <!-- IOn Ref -->\\r\\n        <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\r\\n          <ion-refresher-content\\r\\n            pullingIcon=\\\"chevron-down-circle-outline\\\"\\r\\n            pullingText=\\\"Pull to refresh\\\"\\r\\n            refreshingSpinner=\\\"circles\\\"\\r\\n            refreshingText=\\\"Refreshing...\\\">\\r\\n          </ion-refresher-content>\\r\\n        </ion-refresher>\\r\\n        <!-- Ion Ref -->\\r\\n\\r\\n        <ion-col *ngFor=\\\"let course of myCourses\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"4\\\" size-xl=\\\"3\\\">\\r\\n\\r\\n        <ion-card class=\\\"course\\\">\\r\\n          <ion-img class=\\\"img-all-course\\\" loading=\\\"lazy\\\"  src=\\\"{{course.course.imagePath}}\\\"></ion-img>\\r\\n          <h3 class=\\\"ion-padding-top\\\"  color=\\\"primary\\\">\\r\\n            {{course.course.courseTranslations[0]?.title}}\\r\\n          </h3>\\r\\n          <ion-item>\\r\\n\\r\\n            <div slot=\\\"end\\\" *ngIf=\\\"course.course.courseTranslations[0]?.introVoicePath\\\">\\r\\n              <div class=\\\"icon-sound-course\\\">\\r\\n                  <ion-icon  class=\\\"animate__animated animate__jello animate__delay-2s animate__bounce animate__repeat-3\\\" [name]=\\\"!course.course.audioElement.status? 'play' : 'stop'\\\" (click)=\\\"playIntroHTML(course.course)\\\">\\r\\n                  </ion-icon>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"start\\\" *ngIf=\\\"course.userCourse.status == 5\\\">\\r\\n              <ion-button slot=\\\"end\\\"\\r\\n              (click)=\\\"goToChooseCourseMaterial(course.course.id, course.userCourse.courseId)\\\">\\r\\n                <ion-icon name=\\\"eye-outline\\\"></ion-icon>\\r\\n                Start\\r\\n              </ion-button>\\r\\n            </div>\\r\\n            <div class=\\\"start\\\" class=\\\"applied\\\" *ngIf=\\\"course.userCourse.status == 4\\\">\\r\\n              <ion-button fill=\\\"outline\\\">\\r\\n                <ion-icon name=\\\"time-outline\\\"></ion-icon>\\r\\n                Pending\\r\\n              </ion-button>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"course.userCourse.status == 1\\\">\\r\\n                <ion-text>Passed</ion-text>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"certi\\\" *ngIf=\\\"course.userCourse.status == 1\\\">\\r\\n              <ion-button (click)=\\\"downloadCertificate(course.course.id)\\\"> Certificate\\r\\n                <ion-icon name=\\\"download-outline\\\"></ion-icon>\\r\\n                <ion-spinner *ngIf='isLoading' name=\\\"circles\\\"></ion-spinner> </ion-button>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div class=\\\"start\\\" class=\\\"expired\\\" *ngIf=\\\"course.userCourse.status == 2\\\">\\r\\n              <ion-button fill=\\\"outline\\\">\\r\\n                <ion-icon name=\\\"lock-closed-outline\\\"></ion-icon> Expired</ion-button>\\r\\n            </div>\\r\\n            <div class=\\\"start\\\" class=\\\"expired\\\" *ngIf=\\\"course.userCourse.status == 3\\\">\\r\\n              <ion-button fill=\\\"outline\\\" >\\r\\n                <ion-icon name=\\\"lock-closed-outline\\\"></ion-icon> Failed</ion-button>\\r\\n            </div>\\r\\n          </ion-item>\\r\\n        </ion-card>\\r\\n\\r\\n      </ion-col>\\r\\n\\r\\n\\r\\n\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content\\r\\n      loadingSpinner=\\\"bubbles\\\"\\r\\n      loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";","export default \".ext-icon-vlume, .icon-sound .img-volume {\\n  text-align: center;\\n  margin: auto;\\n  width: 30px;\\n  height: 30px;\\n}\\n\\n.img-course-intro {\\n  margin-bottom: 30px;\\n}\\n\\n.img-course-intro ion-row {\\n  justify-content: center;\\n}\\n\\n.icon-sound {\\n  background-color: #A7F781;\\n  border: 3px dotted #fff;\\n  width: 70px;\\n  height: 70px;\\n  border-radius: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: absolute;\\n  margin: auto;\\n  inset: 0;\\n}\\n\\n.course ion-img {\\n  width: 100%;\\n  height: auto;\\n}\\n\\n.course .icon-sound-course {\\n  background-color: #A7F781;\\n  border: 3px dotted #fff;\\n  width: 53px;\\n  height: 53px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 50%;\\n}\\n\\n.course .icon-sound-course ion-icon {\\n  font-size: 33px;\\n  color: #003182;\\n}\\n\\n.course h3 {\\n  font-size: 18px;\\n  font-weight: 600;\\n  text-transform: capitalize;\\n  color: var(--ion-color-second-app);\\n}\\n\\n.course ion-button {\\n  --color: #fff;\\n  font-size: 13px !important;\\n  margin: 10px 0 10px 4px;\\n  font-weight: 400 !important;\\n  max-width: 100%;\\n  min-width: 100px;\\n}\\n\\n.course ion-button ion-icon {\\n  --color: #fff;\\n  font-size: 20px;\\n  padding-right: 7px;\\n}\\n\\nion-text {\\n  font-weight: 600;\\n  color: var(--ion-color-second-app);\\n  font-size: 18px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxteS1jb3Vyc2VzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBR0E7RUFDRSxtQkFBQTtBQUFGOztBQUVFO0VBQ0UsdUJBQUE7QUFBSjs7QUFJRTtFQUNFLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxRQUFBO0FBREo7O0FBVUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQVJKOztBQVdFO0VBQ0UseUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtBQVRKOztBQVdJO0VBQ0UsZUFBQTtFQUNBLGNBQUE7QUFUTjs7QUFjRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLDBCQUFBO0VBQ0Esa0NBQUE7QUFaSjs7QUFlRTtFQUNFLGFBQUE7RUFDQSwwQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMkJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFiSjs7QUFlSTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7QUFiTjs7QUFtQkE7RUFDRSxnQkFBQTtFQUNBLGtDQUFBO0VBQ0EsZUFBQTtBQWhCRiIsImZpbGUiOiJteS1jb3Vyc2VzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5leHQtaWNvbi12bHVtZSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICB3aWR0aDogMzBweDtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbn1cclxuXHJcblxyXG4uaW1nLWNvdXJzZS1pbnRybyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuXHJcbiAgaW9uLXJvdyB7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICB9XHJcbn1cclxuXHJcbiAgLmljb24tc291bmQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0E3Rjc4MTtcclxuICAgIGJvcmRlcjogM3B4IGRvdHRlZCAjZmZmO1xyXG4gICAgd2lkdGg6IDcwcHg7XHJcbiAgICBoZWlnaHQ6IDcwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgaW5zZXQ6IDA7XHJcblxyXG4gICAgLmltZy12b2x1bWUge1xyXG4gICAgICBAZXh0ZW5kIC5leHQtaWNvbi12bHVtZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbi5jb3Vyc2Uge1xyXG5cclxuICBpb24taW1nIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gIH1cclxuXHJcbiAgLmljb24tc291bmQtY291cnNlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNBN0Y3ODE7XHJcbiAgICBib3JkZXI6IDNweCBkb3R0ZWQgI2ZmZjtcclxuICAgIHdpZHRoOiA1M3B4O1xyXG4gICAgaGVpZ2h0OiA1M3B4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuXHJcbiAgICBpb24taWNvbiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMzNweDtcclxuICAgICAgY29sb3I6ICMwMDMxODI7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgaDMge1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmQtYXBwKTtcclxuICB9XHJcblxyXG4gIGlvbi1idXR0b24ge1xyXG4gICAgLS1jb2xvcjogI2ZmZjtcclxuICAgIGZvbnQtc2l6ZTogMTNweCFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW46IDEwcHggMCAxMHB4IDRweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA0MDAhaW1wb3J0YW50O1xyXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gICAgbWluLXdpZHRoOiAxMDBweDtcclxuXHJcbiAgICBpb24taWNvbiB7XHJcbiAgICAgIC0tY29sb3I6ICNmZmY7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgcGFkZGluZy1yaWdodDogN3B4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcbmlvbi10ZXh0IHtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kLWFwcCk7XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG59XHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MyCoursesPage } from './my-courses.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MyCoursesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MyCoursesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MyCoursesPageRoutingModule } from './my-courses-routing.module';\r\n\r\nimport { MyCoursesPage } from './my-courses.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MyCoursesPageRoutingModule\r\n  ],\r\n  declarations: [MyCoursesPage]\r\n})\r\nexport class MyCoursesPageModule {}\r\n"],"sourceRoot":"webpack:///"}