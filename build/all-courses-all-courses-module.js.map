{"version":3,"sources":["./src/app/courses/all-courses/all-courses.page.ts","./src/app/courses/all-courses/all-courses.page.html","./src/app/shared/services/courses.service.ts","./src/app/shared/services/test.service.ts","./src/app/courses/all-courses/all-courses-routing.module.ts","./src/app/courses/all-courses/all-courses.module.ts","./src/app/courses/all-courses/all-courses.page.scss"],"names":[],"mappings":"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","file":"all-courses-all-courses-module.js","sourcesContent":["import { CheckUserTest } from './../../shared/models/chekTestUser';\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { NavController, Platform } from '@ionic/angular';\r\nimport { Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { imagesBaseUrl } from 'src/app/api.constants';\r\nimport { Course } from 'src/app/shared/models/course';\r\nimport { CourseService } from 'src/app/shared/services/courses.service';\r\nimport { AudioElement } from 'src/app/shared/models/audioObject';\r\nimport { TestService } from 'src/app/shared/services/test.service';\r\nimport { Howl } from 'howler';\r\nimport { AppService } from 'src/app/shared/services/app.service';\r\n\r\n@Component({\r\n  selector: 'app-all-courses',\r\n  templateUrl: './all-courses.page.html',\r\n  styleUrls: ['./all-courses.page.scss'],\r\n})\r\nexport class AllCoursesPage implements OnInit {\r\n  private offset: number;\r\n  private totalLength: number;\r\n  sub: Subscription[] = [];\r\n  public courses: Array<Course> = [];\r\n  isLoading = false;\r\n  userTest: CheckUserTest;\r\n  courseId;\r\n  player: Howl = null;\r\n  isPlaying: boolean = false;\r\n  courseAudio:string;\r\n  getLang: string;\r\n\r\n  constructor(\r\n    private route: Router,\r\n    private navCtrl: NavController,\r\n    private courseService: CourseService,\r\n    private platform: Platform,\r\n    private testService: TestService,\r\n    private appService:AppService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.getLang = localStorage.getItem('languageId');\r\n    this.appService.getVidoes('Courses', this.getLang).subscribe((response) => {\r\n      this.courseAudio = response['result']?.genericAttributeMediaTranslations[0]?.mediaPath;\r\n    })\r\n    this.offset = 0;\r\n    this.getCourses();\r\n    this.testService.checkUserTest()\r\n    .subscribe(response => {\r\n      console.log(response)\r\n      if(response['isActive'] === true) {\r\n        this.route.navigate(['/exercise/test-course',\r\n        {courseId: response['courseId'], testOffset: response['testApi'].offset, activeCourse: response['isActive']}]);\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  getCourse(id: number) {\r\n    this.navCtrl.navigateBack(`/courses/tabs/${id}`);\r\n  }\r\n\r\n  public getCourses() {\r\n    this.isLoading = true;\r\n\r\n    this.sub.push(\r\n      this.courseService\r\n        .getAllCourses('', this.offset)\r\n        .pipe(\r\n          map((response) => {\r\n            Object.entries(response);\r\n            this.isLoading = false;\r\n            this.totalLength = response['length'];\r\n            return response['result'];\r\n          })\r\n        )\r\n        .subscribe((res) => {\r\n          if (this.courses.length == 0) {\r\n            res.forEach((element) => {\r\n\r\n              if (element.imagePath) {\r\n                element.imagePath = `${element.imagePath}`;\r\n              }\r\n              if (element.courseTranslations[0]?.introVoicePath) {\r\n                element.courseTranslations[0].introVoicePath = `${element.courseTranslations[0].introVoicePath}`;\r\n              }\r\n\r\n              element.audioElement = new AudioElement();\r\n              element.audioElement.status = false;\r\n            });\r\n            this.courses = res;\r\n          } else {\r\n            res.forEach((element) => {\r\n              if (element.imagePath) {\r\n                element.imagePath = `${element.imagePath}`;\r\n              }\r\n              if (element.courseTranslations[0].introVoicePath) {\r\n                element.courseTranslations[0].introVoicePath = `${element.courseTranslations[0].introVoicePath}`;\r\n              }\r\n              element.audioElement = new AudioElement();\r\n              element.audioElement.status = false;\r\n\r\n              this.courses.push(element);\r\n            });\r\n          }\r\n          this.offset++;\r\n        })\r\n    );\r\n  }\r\n\r\n  loadData(event) {\r\n    if (this.courses.length < this.totalLength) {\r\n      setTimeout(() => {\r\n        this.getCourses();\r\n        console.log('Done');\r\n        event.target.complete();\r\n\r\n        // App logic to determine if all data is loaded\r\n        // and disable the infinite scroll\r\n        if (this.courses.length == 1000) {\r\n          event.target.disabled = true;\r\n        }\r\n      }, 500);\r\n    } else {\r\n      event.target.disabled = true;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  playIntroHTML(course: Course) {\r\n    console.log(this.courses);\r\n    // this.nativeAudio.preloadSimple(`intro${course.id}`, `${course.courseTranslations[0].introVoicePath}`).then(onSuccess, onError);\r\n    // this.nativeAudio.play(`intro${course.id}`).then(onSuccess, onError);\r\n    if (course.audioElement.status == false) {\r\n      //stop all\r\n      this.courses.forEach((element: Course, index) => {\r\n        if (element.audioElement.audio != null) {\r\n          element.audioElement.audio.pause();\r\n          element.audioElement.status = false;\r\n          //TODO destroy\r\n        } else {\r\n          //TODO destroy\r\n        }\r\n      });\r\n      if (course.audioElement.audio && course.audioElement.audio.paused) {\r\n        course.audioElement.audio.play();\r\n      } else {\r\n        var audio = new Audio(`${course.courseTranslations[0].introVoicePath}`);\r\n        course.audioElement.audio = audio;\r\n        course.audioElement.audio.load();\r\n        course.audioElement.audio.play();\r\n        console.log(this.courses);\r\n      }\r\n      course.audioElement.status = true;\r\n    } else {\r\n      //stop the the live one\r\n      if (course.audioElement.audio != null) {\r\n        course.audioElement.audio.pause();\r\n        course.audioElement.status = false;\r\n        //TODO destroy\r\n      } else {\r\n        //TODO destroy\r\n      }\r\n    }\r\n  }\r\n\r\n  startAudio(voicePath: string) {\r\n    if (this.player && this.isPlaying == true) {\r\n      this.player.stop();\r\n      this.isPlaying = false;\r\n    }else{\r\n      this.player = new Howl({\r\n        html5: true,\r\n        src: voicePath,\r\n        onplay: () => {\r\n\r\n          this.isPlaying = true;\r\n        },\r\n        onend: () => {\r\n          this.isPlaying = false;\r\n        },\r\n      });\r\n      this.player.play();\r\n\r\n    }\r\n\r\n  }\r\n\r\n  ionViewDidLeave():void{\r\n    if (this.player) {\r\n      this.player.stop();\r\n    }\r\n    this.courses.forEach((element) => {\r\n      if (element.audioElement) {\r\n        if (element.audioElement.status == true) {\r\n          element.audioElement.audio.pause();\r\n          element.audioElement.status = false;\r\n        }\r\n      }\r\n    });\r\n  }\r\n  // playIntro(course:Course){\r\n  //   //TODO stop the rest of active audios\r\n  //   this.platform.ready().then(() => {\r\n\r\n  //   var file = this.media.create(`${course.courseTranslations[0].introVoicePath}`);\r\n  //   // to listen to plugin events:\r\n  //   this.introAudiosNative.push(file);\r\n  //   console.log(this.introAudiosNative)\r\n  //   file.onStatusUpdate.subscribe(status => console.log(status)); // fires when file status changes\r\n\r\n  //   file.onSuccess.subscribe(() => console.log('Action is successful'));\r\n\r\n  //   file.onError.subscribe(error => console.log('Error!', error));\r\n\r\n  //   // play the file\r\n  //   file.play();\r\n  //   });\r\n\r\n  // }\r\n}\r\n\r\nfunction onSuccess() {\r\n  throw new Error('Function not implemented.');\r\n}\r\nfunction onError() {\r\n  alert('error');\r\n}\r\n\r\n\r\n\r\n","export default \"<ion-toolbar class=\\\"ios-toolbar\\\">\\r\\n  <ion-title>\\r\\n    All Courses\\r\\n  </ion-title>\\r\\n</ion-toolbar>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n<ion-grid class=\\\"img-course-intro\\\">\\r\\n  <ion-row>\\r\\n    <ion-col>\\r\\n      <div class=\\\"img-intro\\\">\\r\\n        <ion-img loading=\\\"lazy\\\" src=\\\"../../../assets/images/shutterstock_360072566.jpg\\\"></ion-img>\\r\\n      </div>\\r\\n      <div class=\\\"icon-sound\\\" (click)=\\\"startAudio(courseAudio)\\\">\\r\\n        <div class=\\\"img-volume\\\">\\r\\n          <ion-img\\r\\n            class=\\\"animate__animated animate__jello animate__delay-2s animate__bounce animate__repeat-3\\\"  src=\\\"../../../assets/icon/Vector.png\\\">\\r\\n        </ion-img>\\r\\n        </div>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-grid>\\r\\n\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"ion-text-center\\\">\\r\\n      <ion-col *ngFor=\\\"let course of courses\\\" size-sm=\\\"12\\\" size-md=\\\"12\\\" size-lg=\\\"4\\\" size-xl=\\\"3\\\">\\r\\n        <ion-card  class=\\\"course course-desktop\\\">\\r\\n          <ion-img class=\\\"img-all-course\\\" loading=\\\"lazy\\\" src=\\\"{{course.imagePath}}\\\"></ion-img>\\r\\n          <h3 class=\\\"padding-top\\\"  color=\\\"primary\\\"> {{course.courseTranslations[0]?.title}} </h3>\\r\\n          <ion-item>\\r\\n              <div *ngIf=\\\"course.courseTranslations[0]?.introVoicePath\\\">\\r\\n                <div class=\\\"icon-sound-course\\\">\\r\\n                    <ion-icon  class=\\\"animate__animated animate__jello animate__delay-2s animate__bounce animate__repeat-2\\\" [name]=\\\"!course.audioElement.status? 'play' : 'stop'\\\" (click)=\\\"playIntroHTML(course)\\\">\\r\\n                    </ion-icon>\\r\\n                  </div>\\r\\n              </div>\\r\\n\\r\\n            <ion-button (click)=\\\"getCourse(course.id)\\\"  fill=\\\"outline\\\" slot=\\\"end\\\">\\r\\n              <ion-icon name=\\\"eye\\\"></ion-icon>\\r\\n              View\\r\\n            </ion-button>\\r\\n          </ion-item>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content\\r\\n      loadingSpinner=\\\"bubbles\\\"\\r\\n      loadingText=\\\"Loading more data...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n\";","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport {\r\n  getAllCoursesAPI,\r\n  getCourseDetails,\r\n  getUsersCoursesAPI,\r\n  createApplyCourse,\r\n  courseMaterials,\r\n  getUserCourseDetails } from 'src/app/api.constants';\r\nimport { Course } from '../models/course';\r\nimport { MyCourse } from '../models/myCourse';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CourseService {\r\n  limit: number = 6;\r\n  offset: number = 0;\r\n\r\n  queryParams = `?Offset=${this.offset}&Limit=${this.limit}`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  // ** get all courses in the system\r\n  getAllCourses(courseQuery: string, offset?: number) {\r\n    if (offset != null) {\r\n      this.queryParams = `?Offset=${offset}&Limit=${this.limit}`;\r\n    }\r\n    return this.http.get<Course>(\r\n      `${getAllCoursesAPI}/${courseQuery}` + this.queryParams\r\n    );\r\n  }\r\n\r\n  // ** get the subscribed courses of the user\r\n  getUserCourses(courseQuery: string, offset?: number) {\r\n    if (offset != null) {\r\n      this.queryParams = `?Offset=${offset}&Limit=${this.limit}`;\r\n    }\r\n    return this.http.get<MyCourse>(\r\n      `${getUsersCoursesAPI}/${courseQuery}` + this.queryParams\r\n    );\r\n  }\r\n\r\n  // ** get the course details\r\n  getCoursesDetails(id: number) {\r\n    return this.http.get(`${getCourseDetails}?id=${id}`);\r\n  }\r\n\r\n  // ** get user course details\r\n  getUserCoursesDetails(courseId: number) {\r\n    return this.http.get(`${getUserCourseDetails}?courseId=${courseId}`);\r\n  }\r\n\r\n  // ** create course apply\r\n  createCourseApply(from: Date) {\r\n    return this.http.post(`${createApplyCourse}` , from);\r\n  }\r\n\r\n  // ** get course material\r\n  getCourseMaterial(courseId: number, offset: number, limit: number) {\r\n    return this.http.get(`${courseMaterials}?Offset=${offset}&Limit=${limit}&courseId=${courseId}`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport {\r\n  getTextType,\r\n  finishedTest,\r\n  getUserActiveTest,\r\n  sendAnswerTest,\r\n  getCertificate}\r\nfrom './../../api.constants';\r\n\r\nimport { AnswerTestModel } from '../models/answerTestModel';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TestService {\r\n  offset: number = 1;\r\n  authKey: any;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  /**\r\n   * Get Test\r\n   * courseId [ number ]\r\n   * offset [ number ]\r\n   *\r\n   */\r\n  getTestType(courseId: number, offset: number) {\r\n    const params = `?courseId=${courseId}&offset=${offset}`\r\n    return this.http.get(`${getTextType}` + params );\r\n  }\r\n\r\n    /**\r\n   * Get check user test\r\n   * return isActive [ boolean ]\r\n   * return testApi [  ]\r\n   *\r\n   */\r\n  checkUserTest() {\r\n      return this.http.get(`${getUserActiveTest}`);\r\n  }\r\n\r\n\r\n    /**\r\n   * send answer question\r\n   *\r\n   */\r\n  sendAnswerTesting(answerObj: AnswerTestModel) {\r\n    return this.http.post(`${sendAnswerTest}` , answerObj);\r\n  }\r\n\r\n    /**\r\n   * send answer question\r\n   *\r\n   */\r\n    finishedTest(userTestId: number) {\r\n      const params = `?userTestId=${userTestId}`;\r\n      return this.http.post(`${finishedTest}` + params, {});\r\n    }\r\n\r\n    /**\r\n     * Get Certificate\r\n     * courseId [ number ]\r\n     *\r\n   */\r\n    getCertificate(courseId: number) {\r\n\r\n      this.authKey = localStorage.getItem('access_token');\r\n      const httpOptions = {\r\n        responseType: 'blob' as 'json',\r\n        headers: new HttpHeaders({\r\n          'Authorization': this.authKey,\r\n        })\r\n      };\r\n      const params = `?courseId=${courseId}`;\r\n      return this.http.get(`${getCertificate}` + params, httpOptions);\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AllCoursesPage } from './all-courses.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AllCoursesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AllCoursesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AllCoursesPageRoutingModule } from './all-courses-routing.module';\r\n\r\nimport { AllCoursesPage } from './all-courses.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AllCoursesPageRoutingModule\r\n  ],\r\n  declarations: [AllCoursesPage],\r\n \r\n})\r\nexport class AllCoursesPageModule {}\r\n","export default \".ext-icon-volume, .icon-sound .img-volume {\\n  text-align: center;\\n  margin: auto;\\n  width: 30px;\\n  height: 30px;\\n}\\n\\n.img-course-intro {\\n  margin-bottom: 30px;\\n}\\n\\n.img-course-intro ion-row {\\n  justify-content: center;\\n}\\n\\n.icon-sound {\\n  background-color: #A7F781;\\n  border: 3px dotted #fff;\\n  width: 70px;\\n  height: 70px;\\n  border-radius: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: absolute;\\n  margin: auto;\\n  inset: 0;\\n}\\n\\n.course .icon-sound-course {\\n  background-color: #A7F781;\\n  border: 3px dotted #fff;\\n  width: 53px;\\n  height: 53px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 50%;\\n  cursor: pointer;\\n}\\n\\n.course .icon-sound-course ion-icon {\\n  font-size: 35px;\\n  color: var(--ion-color-second-app);\\n}\\n\\n.course ion-img {\\n  width: 100%;\\n  height: auto;\\n  margin-bottom: 20px;\\n}\\n\\n.course h3 {\\n  font-size: 18px;\\n  font-weight: 500;\\n  text-transform: capitalize;\\n  color: var(--ion-color-second-app);\\n}\\n\\n.course ion-button {\\n  --color: #fff;\\n  font-size: 14px;\\n  margin: 0 0 15px 0;\\n  max-width: 50%;\\n  min-width: 150px;\\n}\\n\\n.course ion-button ion-icon {\\n  --color: #A7F781!important;\\n  font-size: 18px;\\n  padding-right: 7px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxhbGwtY291cnNlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUdBO0VBQ0UsbUJBQUE7QUFBRjs7QUFDRTtFQUNFLHVCQUFBO0FBQ0o7O0FBR0E7RUFDRSx5QkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsUUFBQTtBQUFGOztBQVVFO0VBQ0UseUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7QUFSSjs7QUFVSTtFQUNFLGVBQUE7RUFDQSxrQ0FBQTtBQVJOOztBQWFFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtBQVhKOztBQWNFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsMEJBQUE7RUFDQSxrQ0FBQTtBQVpKOztBQWVFO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQWJKOztBQWdCSTtFQUNFLDBCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBZE4iLCJmaWxlIjoiYWxsLWNvdXJzZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmV4dC1pY29uLXZvbHVtZSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICB3aWR0aDogMzBweDtcclxuICBoZWlnaHQ6IDMwcHg7XHJcbn1cclxuXHJcblxyXG4uaW1nLWNvdXJzZS1pbnRybyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICBpb24tcm93IHtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIH1cclxufVxyXG5cclxuLmljb24tc291bmQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNBN0Y3ODE7XHJcbiAgYm9yZGVyOiAzcHggZG90dGVkICNmZmY7XHJcbiAgd2lkdGg6IDcwcHg7XHJcbiAgaGVpZ2h0OiA3MHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIG1hcmdpbjogYXV0bztcclxuICBpbnNldDogMDtcclxuXHJcbiAgLmltZy12b2x1bWUge1xyXG4gICAgQGV4dGVuZCAuZXh0LWljb24tdm9sdW1lO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbi5jb3Vyc2Uge1xyXG5cclxuICAuaWNvbi1zb3VuZC1jb3Vyc2Uge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0E3Rjc4MTtcclxuICAgIGJvcmRlcjogM3B4IGRvdHRlZCAjZmZmO1xyXG4gICAgd2lkdGg6IDUzcHg7XHJcbiAgICBoZWlnaHQ6IDUzcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAgIGlvbi1pY29uIHtcclxuICAgICAgZm9udC1zaXplOiAzNXB4O1xyXG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZC1hcHApO1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIGlvbi1pbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgaDMge1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmQtYXBwKTtcclxuICB9XHJcblxyXG4gIGlvbi1idXR0b24ge1xyXG4gICAgLS1jb2xvcjogI2ZmZjtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIG1hcmdpbjogMCAwIDE1cHggMDtcclxuICAgIG1heC13aWR0aDogNTAlO1xyXG4gICAgbWluLXdpZHRoOiAxNTBweDtcclxuXHJcblxyXG4gICAgaW9uLWljb24ge1xyXG4gICAgICAtLWNvbG9yOiAjQTdGNzgxIWltcG9ydGFudDtcclxuICAgICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgICBwYWRkaW5nLXJpZ2h0OiA3cHg7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ== */\";"],"sourceRoot":"webpack:///"}